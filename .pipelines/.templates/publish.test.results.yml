parameters:
- name: testResultsFormat
  type: string
  default: 'XUnit'

- name: testResultsFiles
  type: string
  default: '$(System.DefaultWorkingDirectory)/testresults/test_results.xml'

- name: mergeTestResults
  type: boolean
  default: true

- name: failTaskOnFailedTests
  type: boolean
  default: true

steps:
- task: PublishTestResults@2
  inputs:
    testResultsFormat: '${{ parameters.testResultsFormat }}'
    testResultsFiles: '${{ parameters.testResultsFiles }}'
    mergeTestResults: ${{ parameters.mergeTestResults }}
    failTaskOnFailedTests: ${{ parameters.failTaskOnFailedTests }}
